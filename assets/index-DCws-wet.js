!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class e{constructor(){this.i18n={zh:{"page.title":"张舰 - 水杉智境工作室创始人 | 前端研发专家"},en:{"page.title":"Justin Zhang - Founder of Metasequoia AI Studio | Frontend R&D Expert"}}}static getInstance(){return e.instance||(e.instance=new e),e.instance}setLanguage(e){document.querySelectorAll("[data-i18n]").forEach(t=>{const s=t.getAttribute("data-i18n");s&&"TITLE"===t.tagName&&(t.text=this.i18n[e][s])})}}function t(e,t){let s=null;return function(...n){s||(e.apply(this,n),s=setTimeout(()=>{s=null},t))}}new class{constructor(){this.zhBtn=document.getElementById("zh-btn"),this.enBtn=document.getElementById("en-btn"),this.i18nManager=e.getInstance(),this.setupEventListeners()}setupEventListeners(){this.zhBtn&&this.enBtn&&(this.zhBtn.addEventListener("click",()=>{this.toggleLanguage("zh")}),this.enBtn.addEventListener("click",()=>{this.toggleLanguage("en")}))}toggleLanguage(e){const t=document.querySelectorAll(".zh"),s=document.querySelectorAll(".en");"zh"===e?(t.forEach(e=>e.classList.remove("hidden")),s.forEach(e=>e.classList.add("hidden")),this.zhBtn?.classList.add("active"),this.zhBtn?.classList.remove("inactive"),this.enBtn?.classList.add("inactive"),this.enBtn?.classList.remove("active")):(s.forEach(e=>e.classList.remove("hidden")),t.forEach(e=>e.classList.add("hidden")),this.enBtn?.classList.add("active"),this.enBtn?.classList.remove("inactive"),this.zhBtn?.classList.add("inactive"),this.zhBtn?.classList.remove("active")),this.i18nManager.setLanguage(e)}},new class{constructor(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(this.handleIntersect.bind(this),{rootMargin:"0px",threshold:.1}),this.setupObserver()):(this.observer=null,this.fallbackScrollListener())}setupObserver(){if(this.observer){document.querySelectorAll(".section").forEach(e=>{this.observer?.observe(e)})}}handleIntersect(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})}fallbackScrollListener(){const e=()=>{document.querySelectorAll(".section").forEach(e=>{e.getBoundingClientRect().top<.9*window.innerHeight&&e.classList.add("visible")})};window.addEventListener("load",e),window.addEventListener("scroll",t(e,200))}},new class{constructor(){this.themeToggle=document.getElementById("theme-toggle"),this.setupEventListeners(),this.loadSavedTheme()}setupEventListeners(){this.themeToggle&&this.themeToggle.addEventListener("change",()=>{this.toggleTheme()})}toggleTheme(){document.body.classList.toggle("dark-mode"),localStorage.setItem("theme",document.body.classList.contains("dark-mode")?"dark":"light")}loadSavedTheme(){"dark"===localStorage.getItem("theme")&&(document.body.classList.add("dark-mode"),this.themeToggle&&(this.themeToggle.checked=!0))}},new class{constructor(){this.nav=document.querySelector("nav"),this.setupEventListener()}setupEventListener(){this.nav&&window.addEventListener("scroll",t(()=>{this.handleScroll()},100))}handleScroll(){const e=this.nav?.querySelector(".container");e&&(window.scrollY>50?(e.style.paddingTop="8px",e.style.paddingBottom="8px"):(e.style.paddingTop="12px",e.style.paddingBottom="12px"))}};
